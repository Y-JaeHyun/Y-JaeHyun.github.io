---
layout:     post
title:      마스터링 이더리움 - 1
author:     bcnote3314
tags: 		blockchain Ethereum MasteringEthereum
subtitle:  블록체인 정복기	
category: Block
---

# 마스터링 이더리움 - 챕터 1

마스터링 이더리움 챕터 1에 관한 내용 정리

## 이더리움(Ethereum)

이더리움은 **스마트 컨트랙트(smart contract)** 라는 프로그램을 실행하는 탈중앙화된 컴퓨터 인프라 스트럭처 이다.
블록체인을 사용하여 시스템 상태변화를 동기화 하며, **이더(ether)** 라고 하는 암호화폐를 이용하여 실행 자원 비용을 측정하고 제한한다.

이더리움은 개발자에게 고가용성, 감사 가능성, 투명성, 중립성을 제공하는 동시에 검열을 줄여주며 거래 상대방의 위험을 줄여준다.

이더리움은 블록체인을 사용하기 때문에 비트코인과 유사한 점이 많다.
P2P네트워크를 사용한다는 점과 상태변경을 동기화 하는 과정에서 **POW** 와 같은 컨센선스 알고리즘을 사용한다는것, 디지털 서명과 해시, 디지털 화폐 등 암호학 기반 기술들을 삳용한다는 점이 공통 요소이다.

하지만 이더리움의 목적은 이전의 개방형 블록체인과는 차이점이 있다.
주 목적이 디지털 화폐가 아닏. 이더라고 하는 암호화폐는 물론 이더리움의 운용에 필수적인 요소이지만 이더의 사용목적은 월드 컴퓨터로서의 이더리움 플랫폼 사용료를 지불하기 위한 목적이 크다.

비트코인에서는 제한적인 스크립트 언어를 지원하는것과 달리 이더리움은 **solidity** 라고하는 튜링완전한 언어를 지원한다. 

## 블록체인 구성 요소

- 표준화된 **가십(gossip)' 프로토콜** 을 기반으로 참여자와 트랜잭션등을 연결하는 P2P 네트워크
- 상태전이를 나타내는 트랜잭션 형식의 메시지
- 트랜잭션의 구성 요건과 트랜잭션의 유효성을 판단하는 합의 규칙
- 합의 규칙에 따라 트랜잭션을 처리하는 상태머신
- 검증되고 적용된모든 상태 전이의 장부역할을 해줄수 있으며 암호학적으로 보호된 체인
- 합의 규칙들을 적용하는데 모든 참여자가 협력할 수 있도록 강제함으로써 블록체인의 통제 권한을 탈중앙호하는 합의 알고리즘을 (음 이건 블록체인마다 다를지도.)
- 공개된 환경에서 상태머신에 대한 경제적인 보안성을 제공할 수 있는 게임 이론적으로 유효한 인센티브 매커니즘 (채굴 + 수수료)
- 위의 요소들을 구현한 오픈소스 소프트웨어

이러한 요소들이 모두 포함되어야 했던 과거의 블록체인과 달리 최근에는 성격이 다양한 블록체인들이 나와있다.

## 이더리움의 발단 단계

이더리움의 개발은 4단계로 나누어 진행되었다. 

- 프론티어
- 홈스테이드
- 메트로폴리스
- 세레니티

이런 4개의 주요 코드명 외에 중간 하드 포크 형태로 아래의 코드명으로 진행된것이 있다.
- 아이스에이지
- DAO
- 탠저린휘슬
- 스퓨리어스드래곤
- 비잔티움 (Klaytn 포크 버전!)
- 콘스탄티노플

순서와 주요 변경점은 아래와 같다.

1. 프론티어 #0 : 이더리움의 초기단계
1. 아이스에이지 #200,000 : 기하급수적으로 증가하는 난이도 증가를 도입하여 지분증명(PoS)로 전환하도록 동기를 부여하는 하드포크  // 무슨의미지..?;
1. 홈스테드 #1,150,000 : 이더리움의 두번째 단계
1. DAO #1,192,000 : 해킹된 DAO 컨트랙트의 피해자에게 보상금을 지급하고 이더리움 및 이더리움 클래식을 2개의 경쟁 시스템으로 분할하는 하드 포크 (smart contract와 관련하여 사고가 있었던듯.)
1. 탠저린 휘슬 #2,463,000 : 특정 I/O가 많은 작업에 대한 가스 계산을 변경하고 해당 작업의 가스 비용이 낮은 서비스 거부 공격으로부터 축척된 상태를 지우는 하드포크
1. 스퓨리어스 드래곤 #2,675,000 : 더 많은 서비스거부 공격 벡터를 처리하고 다른 상태를 지우는 하드포크
1. 메트로폴리스 비잔티움 #4,370,000 : 이더리움 세번째 단계, 비잔티움은 메트로폴리스를 위한 두개의 하드포크중 첫번째이다. 두번째는 콘스탄티노플이라는 이름으로 계획되어있고, 이후 마지막으로 세레니티가 나올것이다.

## 범용 블록체인

이더리움은 탈중화 상태머신이다.
다만 화폐 소유 상태만을 추적하는 것이 아니라 범용 데이터 저장소, 키밸류 튜플로 표현할 수 있는 모든 데이터를 저장 할수 있다.

일반 컴퓨터가 사용하는 RAM(Random Access Memory)의 데이터 스토리지 모델과 동일한 용도로 사용된다.  
코드와 데이터를 저장하는 영역이 있으며, 이더리움은 블록체인을 이용하여 시간에 따른 변화를 추적할수 있다.  
또한 코드를 로드하고 실행하고 그 결과 상태를 저장할수 있다.  

다만 일반적인 범용 컴퓨터와의 차이점이라면 이더리움은 합의 규칙에 의하여 관리되고 상태가 전체적으로 배포된다는 것이다.

## 이더리움 구성 요소

블록체인 구성요소에서 설명했던 요소들을 모두 포함하고 있다.

- p2p : 이더리움은 TCP 30303으로 접속 가능한 이더리움 메인 네트워크에서 실행된다.
- 합의 규칙 : 공개된 황서에 정의되어 있다.
- 트랜잭션 : 이더리움 트랜잭션은 보낸사람, 받는사람, 값 및 데이터 페이로드가 포함된 메시지다.
- 상태머신 : 바이트 코드를 실행하는 EVM(이더리움 가상 머신)에 의하여 처리된다. 
- 데이터 구조 : 머클 패트리샤 트리(Merkle Patricia Tree)라고 하는 시리얼라이즈 해시 데이터 구조를 사용하며 각 노드의 데이터베이스(level db)에 저장된다.
- 합의 알고리즘 : 비트코인의 pow를 사용한다. 하지만 추후 지분 증명 방식인 pos로 변경 예정이다. (코드명 캐스퍼)
- 경제적 보안성 : 합의 알고리즘을 통하여 보안성 유지.
- 클라이언트 :  게스, 패리티 등과 같은 구현된 소프트웨어가 존재한다.

## DApp

이더리움은 다양한 용도로 프로그래밍 할수 있는 범용적인 블록체인을 만들기 위하여 시작되었다.
스마트 컨트랙트에서 DApp으로 확장되었고 스마트 컨트랙트와 사용자 인터페이스를 합한 것이다.

즉 DApp이란 공개된 탈중화 p2p 기반 서비스 위에서 제공되는 웹 애플리케이션이다.

